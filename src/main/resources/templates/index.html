<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml"
>
<head>
    <meta charset="UTF-8">
    <title>Starting Page</title>
</head>
<body>
<form sec:authorize="!isAnonymous()" th:action="@{/logout}" method="post">
    <input type="submit" value="Sign Out"/>
</form>
<form sec:authorize="isAnonymous()" th:action="@{/login}" method="post">
    <input type="submit" value="Sign In"/>
</form>
<h3 th:inline="text" th:text="'Hello ' + (${#httpServletRequest.remoteUser} ?: 'anon') + '!'"></h3>
<div align="center">
    <h2>Menu</h2>
    <a sec:authorize="hasAnyRole('ROLE_EMPLOYEE','ROLE_ADMIN')" href="/allorders">Show all orders</a>
    <a sec:authorize="hasAnyRole('ROLE_ADMIN')" href="/registerEmployee">Register Employee</a>
    <a sec:authorize="hasAnyRole('ROLE_EMPLOYEE','ROLE_ADMIN')" href="/addProduct">Add New Product</a>
    <a sec:authorize="isAnonymous()" href="/registerCustomer">Register</a>
    <a href="/basket" th:text="'Basket(' + ${basketCount} + ')'">Basket</a>
</div>

<p></p>
<div align="center">
    <table border="1" cellpadding="10">
        <thead>
        <tr>
            <th>Product ID</th>
            <th>Product Name</th>
            <th></th>
            <th>Quantity</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="product : ${listProducts}">
            <td th:text="${product.id}">Product ID</td>
            <td th:text="${product.productName}">Order Date</td>
            <form th:action="@{/}" method="post">
                <td>
                    <button type="submit" th:value="${product.id}" th:name="id">Add</button>
                </td>
                <td><input type="number" value="1" th:name="quantity"/></td>
            </form>
        </tr>
        </tbody>
    </table>
    <p></p>
    <!--    <table border="1" cellpadding="10">-->
    <!--        <thead>-->
    <!--        <tr>-->
    <!--            <th>Order ID</th>-->
    <!--            <th>Product Name</th>-->
    <!--            <th>Quantity</th>-->
    <!--            <th>Add</th>-->
    <!--            <th>Remove</th>-->
    <!--        </tr>-->
    <!--        </thead>-->
    <!--        <tbody>-->
    <!--        <tr th:each="product : ${listProductsByOrder}">-->
    <!--            <td th:text="${order.id}">Product ID</td>-->
    <!--            <td th:text="${order.productName}">Order Date</td>-->
    <!--            <form th:action="@{/}" method="post">-->
    <!--                <td>-->
    <!--                    <button type="submit" th:value="${product.id}" th:name="id">Add</button>-->
    <!--                </td>-->
    <!--                <td><input type="text" value="1" th:name="quantity"/></td>-->
    <!--            </form>-->
    <!--        </tr>-->
    <!--        </tbody>-->
    <!--    </table>-->
</div>
</body>
</html>
<body>

</body>
</html>